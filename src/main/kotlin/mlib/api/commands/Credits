Credits to navoyan's LirandAPI for this full command system.